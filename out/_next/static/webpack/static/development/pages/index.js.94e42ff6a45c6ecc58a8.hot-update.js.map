{"version":3,"file":"static/webpack/static/development/pages/index.js.94e42ff6a45c6ecc58a8.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Head from \"next/head\";\nimport Card from \"../components/card\";\nimport fetch from \"isomorphic-unfetch\";\n\nconst siteTitle = \"Twitch SoCal\";\nconst description =\n  \"We're the meetup groups for Twitch in Southern California!<br/>Find the closest one to you or come to all our events!\";\nconst url = \"https://twitchsocal.com\";\n\nconst Home = () => {\n  const [upcomingEvents, setEvents] = useState([]);\n\n  useEffect(() => {\n    getUpcomingEvents().then(events => {\n      setEvents(events);\n    });\n  }, []);\n\n  return (\n    <div\n      style={{\n        minHeight: \"100%\",\n        position: \"absolute\",\n        width: \"100%\"\n      }}\n    >\n      <Head>\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n        <title>{siteTitle}.com</title>\n        <meta\n          name=\"Description\"\n          content={description.replace(\"<br/>\", \" \")}\n        ></meta>\n        <meta property=\"og:title\" content={siteTitle}></meta>\n        <meta property=\"og:url\" content={url}></meta>\n        <meta\n          property=\"og:image\"\n          content={`${url}/static/twitchsocal.gif`}\n        ></meta>\n        <meta property=\"og:image:width\" content=\"800\"></meta>\n        <meta property=\"og:image:height\" content=\"800\"></meta>\n        <meta\n          property=\"og:description\"\n          content={description.replace(\"<br/>\", \" \")}\n        ></meta>\n        <meta property=\"og:type\" content=\"website\" />\n        <meta property=\"og:locale\" content=\"en_US\" />\n      </Head>\n\n      <div className=\"hero\">\n        <span className=\"title-wrapper\">\n          <h1 className=\"title\">{siteTitle}</h1>\n        </span>\n        <p\n          className=\"description\"\n          dangerouslySetInnerHTML={{ __html: description }}\n        ></p>\n\n        <div className=\"row\">\n          <Card\n            groupName={\"Twitch La\"}\n            city={\"Los Angeles\"}\n            href={\"https://meetups.twitch.tv/los-angeles/\"}\n            upcomingEvents={upcomingEvents}\n          />\n          <Card\n            groupName={\"OC Streamers\"}\n            city={\"Orange\"}\n            href={\"https://www.meetup.com/ocstreamers\"}\n            upcomingEvents={upcomingEvents}\n          />\n          <Card\n            groupName={\"Twitch SD\"}\n            city={\"San Diego\"}\n            href={\"https://meetups.twitch.tv/san-diego/\"}\n            upcomingEvents={upcomingEvents}\n          />\n        </div>\n      </div>\n      <div className=\"footer\">\n        <p>This site is not affiliated or endorsed by Twitch or Meetup.</p>\n      </div>\n\n      <style jsx>{`\n        :global(html, body) {\n          height: 100%;\n          margin: 0;\n          padding: 0;\n        }\n        :global(body) {\n          background-color: #9146ff;\n          background-image: url(\"/static/funky-lines.webp\");\n          background-size: 600px;\n          font-family: \"Kanit\", sans-serif, Avenir Next, Avenir, Helvetica,\n            sans-serif;\n        }\n        .hero {\n          width: 100%;\n          color: #fff;\n        }\n        .title {\n          margin: 0;\n          width: 100%;\n          margin-top: 50px;\n          line-height: 1.15;\n          font-size: 48px;\n          font-family: \"Knewave\", sans-serif;\n          animation: colorwipe 6s infinite;\n          background: rgb(255, 255, 255);\n          background: linear-gradient(\n            15deg,\n            rgba(255, 255, 255, 1) 0%,\n            rgba(255, 255, 255, 1) 15%,\n            rgba(131, 58, 180, 1) 25%,\n            rgba(253, 29, 29, 1) 50%,\n            rgba(252, 176, 69, 1) 75%,\n            rgba(255, 255, 255, 1) 80%,\n            rgba(255, 255, 255, 1) 100%\n          );\n          background-size: 900%;\n          background-position: 0%;\n          -webkit-background-clip: text;\n          -webkit-text-fill-color: transparent;\n        }\n        .title-wrapper {\n          filter: drop-shadow(0 5px 5px rgba(0, 0, 0, 0.4));\n          display: block;\n        }\n        .title,\n        .description {\n          text-align: center;\n        }\n        .description {\n          font-size: 22px;\n          font-weight: 300;\n          font-family: \"Kanit\", sans-serif;\n        }\n        .row {\n          max-width: 880px;\n          margin: 40px auto;\n          display: flex;\n          flex-direction: row;\n          justify-content: space-around;\n        }\n        .footer {\n          color: #fff;\n          position: absolute;\n          bottom: 0;\n          width: 100%;\n          text-align: center;\n          font-weight: 100;\n          font-style: italic;\n          font-family: sans-serif;\n        }\n        @media (max-width: 840px) {\n          .row {\n            flex-direction: column;\n            align-items: center;\n          }\n        }\n        @keyframes colorwipe {\n          0% {\n            background-position: 0%;\n          }\n          35% {\n            background-position: 0%;\n          }\n          100% {\n            background-position: 100%;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};\n\nasync function getUpcomingEvents() {\n  const cacheBuster = `&${Math.floor(Math.random() * 1000)}`;\n  let meetupComReq = fetch(\n    `https://cors-anywhere.herokuapp.com/https://api.meetup.com/ocstreamers/events?&sign=true&photo-host=public&scroll=recent_past&page=20&has_ended=true${cacheBuster}`\n  ).catch(err => {\n    console.log(err);\n  });\n  let twitchReq = fetch(\n    `https://meetups.twitch.tv/api/search/?result_types=upcoming_event&country_code=Earth${cacheBuster}`\n  ).catch(err => {\n    console.log(err);\n  });\n\n  const meetupCom = await meetupComReq;\n  const twitch = await twitchReq;\n  const twitchJson = await twitch.json();\n\n  if (meetupCom) {\n    const meetupComJson = await meetupCom.json();\n    const meetupEvents = convertMeetupToTwitch(meetupComJson);\n    const eventList = twitchJson.results;\n    return eventList.concat(meetupEvents);\n  } else if (twitchJson) {\n    return twitchJson.results;\n  }\n\n  return [];\n}\n\nfunction convertMeetupToTwitch(meetup) {\n  const meetupList = meetup.map(event => {\n    const city = event.group.localized_location.split(\",\")[0];\n    return {\n      chapter: {\n        city\n      },\n      url: event.link,\n      start_date: event.local_date,\n      title: event.name\n    };\n  });\n\n  return meetupList;\n}\n\nexport default Home;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAHA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA7DA;AAAA;AAAA;AA2JA;AACA;AACA;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAGA;AACA;AACA;AAGA;AACA;AAXA;AAAA;AACA;AADA;AAaA;AAbA;AAAA;AACA;AADA;AAcA;AAdA;AAAA;AACA;AADA;AAeA;AACA;AAhBA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAkBA;AACA;AACA;AApBA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AA6BA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AANA;AAQA;AAEA;AACA;AACA;AACA;;;;A","sourceRoot":""}